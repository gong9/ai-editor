<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LarkLite Editor</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['JetBrains Mono', 'monospace'],
            },
            colors: {
              lark: {
                50: '#f5f6f7',
                100: '#ebedef',
                200: '#dadce0',
                300: '#bdc1c6',
                400: '#9aa0a6',
                500: '#707579',
                600: '#5f6368',
                700: '#3c4043',
                800: '#202124',
                900: '#171717',
                blue: '#3370ff',
                blueHover: '#285acc',
              }
            },
            typography: {
              DEFAULT: {
                css: {
                  maxWidth: 'none',
                  color: '#1f2329',
                  h1: { fontWeight: '700' },
                  h2: { fontWeight: '600', borderBottom: '1px solid #ebedef', paddingBottom: '0.5em' },
                  blockquote: { fontStyle: 'normal', borderLeftColor: '#3370ff', backgroundColor: '#f5f6f7', padding: '0.5em 1em' },
                  // Inline code style
                  'code:not(pre code)': { 
                    color: '#d93025', 
                    fontWeight: '500', 
                    backgroundColor: '#f5f6f7', 
                    padding: '0.1em 0.3em', 
                    borderRadius: '0.2em' 
                  },
                  'code::before': { content: '""' },
                  'code::after': { content: '""' },
                  // Pre (Block code) style - handled by global CSS below for better control
                  pre: { 
                    backgroundColor: 'transparent', 
                    margin: '0',
                    padding: '0',
                  },
                  // Table styles
                  table: {
                    width: '100%',
                    tableLayout: 'fixed',
                    borderCollapse: 'collapse',
                    margin: '0',
                    overflow: 'hidden',
                  },
                  'thead th': {
                    backgroundColor: '#f5f6f7',
                    fontWeight: '600',
                    textAlign: 'left',
                  },
                  'tbody td, thead th': {
                    border: '1px solid #dadce0',
                    padding: '0.5rem',
                    verticalAlign: 'top',
                    position: 'relative',
                  },
                }
              }
            }
          },
        },
      }
    </script>
    <style>
      body {
        background-color: #ffffff;
        color: #1f2329;
      }
      html {
        scroll-behavior: smooth;
      }
      /* Failsafe for hidden elements if Tailwind fails to load */
      .hidden {
        display: none !important;
      }
      /* Editor Specific Styles for Tiptap */
      .ProseMirror {
        outline: none;
        min-height: 60vh;
        padding-bottom: 20vh;
      }
      .ProseMirror p.is-editor-empty:first-child::before {
        content: attr(data-placeholder);
        float: left;
        color: #bdc1c6;
        pointer-events: none;
        height: 0;
      }
      /* Selection Color */
      .ProseMirror ::selection {
        background: #b3d4fc;
      }
      
      /* Image styling in editor */
      .ProseMirror img {
        border-radius: 0.5rem;
        max-width: 100%;
        height: auto;
        margin: 1rem 0;
        transition: all 0.2s;
      }
      .ProseMirror img.ProseMirror-selectednode {
        outline: 3px solid #3370ff;
      }

      /* --- Code Block Styling (Dark Theme) --- */
      .ProseMirror pre {
        background: #282c34;
        color: #abb2bf;
        font-family: 'JetBrains Mono', monospace;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        margin: 1.5rem 0;
        overflow-x: auto;
      }

      .ProseMirror pre code {
        display: block;
        background: none !important;
        color: inherit !important;
        padding: 0 !important;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      /* Syntax Highlighting Colors (Atom One Dark Inspired) */
      .hljs-comment, .hljs-quote { color: #5c6370; font-style: italic; }
      .hljs-doctag, .hljs-keyword, .hljs-formula { color: #c678dd; } /* purple */
      .hljs-section, .hljs-name, .hljs-selector-tag, .hljs-deletion, .hljs-subst { color: #e06c75; } /* red */
      .hljs-literal { color: #56b6c2; } /* cyan */
      .hljs-string, .hljs-regexp, .hljs-addition, .hljs-attribute, .hljs-meta-string { color: #98c379; } /* green */
      .hljs-built_in, .hljs-class .hljs-title { color: #e6c07b; } /* yellow */
      .hljs-attr, .hljs-variable, .hljs-template-variable, .hljs-type, .hljs-selector-class, .hljs-selector-attr, .hljs-selector-pseudo, .hljs-number { color: #d19a66; } /* orange */
      .hljs-symbol, .hljs-bullet, .hljs-link, .hljs-meta, .hljs-selector-id, .hljs-title { color: #61aeee; } /* blue */

      /* --- Table Styling --- */
      .ProseMirror table {
        border-collapse: collapse;
        table-layout: fixed;
        width: 100%;
        margin: 0;
        overflow: hidden;
      }

      .ProseMirror td,
      .ProseMirror th {
        min-width: 1em;
        border: 1px solid #ced4da;
        padding: 3px 5px;
        vertical-align: top;
        box-sizing: border-box;
        position: relative;
      }

      .ProseMirror th {
        font-weight: bold;
        text-align: left;
        background-color: #f1f3f5;
      }

      .ProseMirror .selectedCell:after {
        z-index: 2;
        position: absolute;
        content: "";
        left: 0; right: 0; top: 0; bottom: 0;
        background: rgba(200, 200, 255, 0.4);
        pointer-events: none;
      }

      .ProseMirror .column-resize-handle {
        position: absolute;
        right: -2px;
        top: 0;
        bottom: -2px;
        width: 4px;
        background-color: #adf;
        pointer-events: none;
      }

      .tableWrapper {
        overflow-x: auto;
      }

      .resize-cursor {
        cursor: col-resize;
      }

    </style>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.2.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "localforage": "https://aistudiocdn.com/localforage@^1.10.0",
    "@tiptap/react": "https://esm.sh/@tiptap/react@2.2.4?external=react,react-dom",
    "@tiptap/starter-kit": "https://esm.sh/@tiptap/starter-kit@2.2.4?external=react,react-dom",
    "@tiptap/extension-placeholder": "https://esm.sh/@tiptap/extension-placeholder@2.2.4?external=react,react-dom",
    "@tiptap/extension-image": "https://esm.sh/@tiptap/extension-image@2.2.4?external=react,react-dom",
    "@tiptap/extension-link": "https://esm.sh/@tiptap/extension-link@2.2.4?external=react,react-dom",
    "@tiptap/extension-highlight": "https://esm.sh/@tiptap/extension-highlight@2.2.4?external=react,react-dom",
    "@tiptap/extension-code-block-lowlight": "https://esm.sh/@tiptap/extension-code-block-lowlight@2.2.4?external=react,react-dom",
    "@tiptap/extension-table": "https://esm.sh/@tiptap/extension-table@2.2.4?external=react,react-dom",
    "@tiptap/extension-table-row": "https://esm.sh/@tiptap/extension-table-row@2.2.4?external=react,react-dom",
    "@tiptap/extension-table-cell": "https://esm.sh/@tiptap/extension-table-cell@2.2.4?external=react,react-dom",
    "@tiptap/extension-table-header": "https://esm.sh/@tiptap/extension-table-header@2.2.4?external=react,react-dom",
    "lowlight": "https://esm.sh/lowlight@3.1.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
  </body>
</html>